@startuml
title Veritas Protocol - Article Publishing Flow

actor Journalist
participant "Client App" as App
participant Wallet
participant "DSN (IPFS/Arweave)" as DSN
participant "Blockchain (Smart Contract)" as Contract

Journalist -> App : 1. Initiate Publish Article
activate App

App -> DSN : 2. Upload Article Content
activate DSN
DSN --> App : 3. Return Content ID (CID)
deactivate DSN

App -> App : 4. Construct On-Chain Transaction
(CID, Stake Amount, etc.)

App -> Wallet : 5. Request Signature for Transaction
activate Wallet
Wallet -> Journalist : 6. Prompt User to Confirm/Sign
Journalist -> Wallet : 7. Approve Transaction
Wallet -> App : 8. Return Signed Transaction
deactivate Wallet

App -> Contract : 9. Submit Signed Transaction
activate Contract
Contract -> Contract : 10. Execute Logic:
- Verify Stake
- Store CID & Metadata
- Emit 'ArticlePublished' Event
Contract --> App : 11. Transaction Receipt (Success/Fail)
deactivate Contract

App --> Journalist : 12. Notify: Article Published Successfully
deactivate App

@enduml
